CREATE TABLE users ( 
	user_id SERIAL PRIMARY KEY,
	username VARCHAR(100) UNIQUE NOT NULL, 
	first_name VARCHAR(100) NOT NULL, 
	last_name VARCHAR(100) NOT NULL, 
	email VARCHAR(100) NOT NULL, 
	joined TIMESTAMPTZ NOT NULL,
);
CREATE TABLE users (user_id SERIAL PRIMARY KEY, username VARCHAR(100) UNIQUE NOT NULL, first_name VARCHAR(100) NOT NULL, last_name VARCHAR(100) NOT NULL, email VARCHAR(100) NOT NULL, joined TIMESTAMPTZ NOT NULL);



CREATE TABLE login (
	user_id INTEGER REFERENCES users ON DELETE CASCADE;
	username VARCHAR(100) UNIQUE REFERENCES users (username), 
	hash CHAR(60) NOT NULL, 
	email VARCHAR(100) NOT NULL,
	PRIMARY KEY (user_id)
);
CREATE TABLE login (user_id INTEGER REFERENCES users ON DELETE CASCADE, username VARCHAR(100) UNIQUE REFERENCES users (username), hash CHAR(60) NOT NULL, email VARCHAR(100) NOT NULL, PRIMARY KEY (user_id));



CREATE TABLE decks (
	deck_id BIGSERIAL PRIMARY KEY,
	user_id INTEGER REFERENCES users ON DELETE CASCADE,
	deck_name VARCHAR(100) NOT NULL,
	description TEXT,
	deck_created TIMESTAMPTZ NOT NULL,
	*************************************************************************************************
	(whats between the asterisks is in the current decks table, but will be moved to another table for the next version)
	definition_first BOOLEAN DEFAULT FALSE,
	deck_percentage SMALLINT DEFAULT 100 CHECK (deck_percentage >= 1 AND deck_percentage <= 100),
	term_language VARCHAR(100) DEFAULT 'Google US English',
	definition_language VARCHAR(100) DEFAULT 'Google US English'
	*************************************************************************************************
);
CREATE TABLE decks (deck_id BIGSERIAL PRIMARY KEY, user_id INTEGER REFERENCES users ON DELETE CASCADE, deck_name VARCHAR(100) NOT NULL, description TEXT, deck_created TIMESTAMPTZ NOT NULL, definition_first BOOLEAN DEFAULT FALSE, deck_percentage SMALLINT DEFAULT 100 CHECK (deck_percentage >= 1 AND deck_percentage <= 100), term_language VARCHAR(100) DEFAULT 'Google US English',definition_language VARCHAR(100) DEFAULT 'Google US English');

CREATE TABLE deck_settings (
	deck_id BIGINT REFERENCES decks ON DELETE CASCADE,
	user_id INTEGER REFERENCES users ON DELETE CASCADE,
	definition_first BOOLEAN DEFAULT FALSE,
	deck_percentage SMALLINT DEFAULT 100 CHECK (deck_percentage >= 1 AND deck_percentage <= 100),
	term_language_code CHAR(5) DEFAULT 'en-US',
	term_language_name VARCHAR(100) DEFAULT 'Google US English',
	definition_language_code CHAR(5) DEFAULT 'en-US',
	definition_language_name DEFAULT 'Google US English'
	(my idea is to be able to use the same language code to set the language across browsers; if the language name isnt present, then use the language code, if that isnt present either, then default to us english )
	(will probably include as well something that has to do with reading on card flip)
)
CREATE TABLE deck_settings (deck_id BIGINT REFERENCES decks ON DELETE CASCADE, user_id INTEGER REFERENCES users ON DELETE CASCADE, definition_first BOOLEAN DEFAULT FALSE, deck_percentage SMALLINT DEFAULT 100 CHECK (deck_percentage >= 1 AND deck_percentage <= 100), term_language_code CHAR(5) DEFAULT 'en-US', term_language_name VARCHAR(100) DEFAULT 'Google US English', definition_language_code CHAR(5) DEFAULT 'en-US', definition_language_name DEFAULT 'Google US English'


CREATE TABLE cards (
	card_id BIGSERIAL PRIMARY KEY,
	deck_id BIGINT REFERENCES decks ON DELETE CASCADE,
	user_id INTEGER REFERENCES users ON DELETE CASCADE,
	term VARCHAR(255),
	definition VARCHAR(255),
	card_created TIMESTAMPTZ NOT NULL,
	score INTEGER NOT NULL DEFAULT 0
);
CREATE TABLE cards (card_id BIGSERIAL PRIMARY KEY, deck_id BIGINT REFERENCES decks ON DELETE CASCADE, user_id INTEGER REFERENCES users ON DELETE CASCADE, term VARCHAR(255), definition VARCHAR(255), card_created TIMESTAMPTZ NOT NULL, score INTEGER NOT NULL DEFAULT 0);
